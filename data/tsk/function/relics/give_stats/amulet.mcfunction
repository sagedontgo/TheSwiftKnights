execute store result score @s tsk.relicTemp run data get entity @e[sort=nearest,limit=1,type=minecraft:chest_boat] Items.[{Slot:12b}].components."minecraft:custom_data".tsk.artifactBuffs.main
execute store result score @s tsk.relicTemp.sub1 run data get entity @e[sort=nearest,limit=1,type=minecraft:chest_boat] Items.[{Slot:12b}].components."minecraft:custom_data".tsk.artifactBuffs.sub1
execute store result score @s tsk.relicTemp.sub2 run data get entity @e[sort=nearest,limit=1,type=minecraft:chest_boat] Items.[{Slot:12b}].components."minecraft:custom_data".tsk.artifactBuffs.sub2
execute store result score @s tsk.relicTemp.sub3 run data get entity @e[sort=nearest,limit=1,type=minecraft:chest_boat] Items.[{Slot:12b}].components."minecraft:custom_data".tsk.artifactBuffs.sub3
execute store result score @s tsk.relicTemp.sub4 run data get entity @e[sort=nearest,limit=1,type=minecraft:chest_boat] Items.[{Slot:12b}].components."minecraft:custom_data".tsk.artifactBuffs.sub4


execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactMainStat:"maxManaFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.amulet] run function tsk:relics/calc_stats/amulet/flat/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactMainStat:"manaRegenFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.amulet] run function tsk:relics/calc_stats/amulet/flat/mana_regen
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactMainStat:"maxManaPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.amulet] run function tsk:relics/calc_stats/amulet/percentage/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactMainStat:"manaRegenPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.amulet] run function tsk:relics/calc_stats/amulet/percentage/mana_regen

# Sub Stats
# 1
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"maxManaFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"manaRegenFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/mana_regen
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"defFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"maxHpFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"scFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/sc
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"criticDamageFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/critdmg
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"atkStrngthFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/flat/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"atkStrngthPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/percentage/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"defPercent"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/percentage/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"maxHpPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/percentage/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"critRatePercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/percentage/critrate
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"maxManaPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/percentage/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat1:"manaRegenPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat1.amulet] run function tsk:relics/sub_stats/lvl2/calc_stats/amulet/percentage/mana_regen

# 2
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"maxManaFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"manaRegenFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/mana_regen
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"defFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"maxHpFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"scFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/sc
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"criticDamageFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/critdmg
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"atkStrngthFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/flat/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"atkStrngthPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/percentage/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"defPercent"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/percentage/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"maxHpPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/percentage/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"critRatePercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/percentage/critrate
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"maxManaPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/percentage/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat2:"manaRegenPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat2.amulet] run function tsk:relics/sub_stats/lvl4/calc_stats/amulet/percentage/mana_regen

# 3
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"maxManaFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"manaRegenFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/mana_regen
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"defFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"maxHpFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"scFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/sc
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"criticDamageFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/critdmg
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"atkStrngthFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/flat/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"atkStrngthPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/percentage/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"defPercent"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/percentage/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"maxHpPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/percentage/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"critRatePercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/percentage/critrate
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"maxManaPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/percentage/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat3:"manaRegenPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat3.amulet] run function tsk:relics/sub_stats/lvl6/calc_stats/amulet/percentage/mana_regen

# 4
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"maxManaFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"manaRegenFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/mana_regen
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"defFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"maxHpFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"scFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/sc
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"criticDamageFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/critdmg
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"atkStrngthFlat"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/flat/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"atkStrngthPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/percentage/str
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"defPercent"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/percentage/def
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"maxHpPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/percentage/maxhp
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"critRatePercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/percentage/critrate
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"maxManaPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/percentage/max_mana
execute if entity @e[distance=..2,sort=nearest,limit=1,type=minecraft:chest_boat,nbt={Items:[{Slot:12b,components:{"minecraft:custom_data":{tsk:{artifactSubStat4:"manaRegenPercentage"}}}}]}] if entity @s[tag=!tsk.relicBuffApplied.substat4.amulet] run function tsk:relics/sub_stats/lvl8/calc_stats/amulet/percentage/mana_regen
